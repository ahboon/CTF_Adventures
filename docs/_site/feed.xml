<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="3.6.2">Jekyll</generator><link href="http://localhost:4000/CTF_Adventures/feed.xml" rel="self" type="application/atom+xml" /><link href="http://localhost:4000/CTF_Adventures/" rel="alternate" type="text/html" /><updated>2017-12-26T00:31:52+08:00</updated><id>http://localhost:4000/CTF_Adventures/</id><title type="html">CTF Adventures</title><subtitle>CTF Adventures. </subtitle><entry><title type="html">LazySysAdmin Writeup</title><link href="http://localhost:4000/CTF_Adventures/jekyll/update/2017/12/25/LazySysAdmin-Writeup.html" rel="alternate" type="text/html" title="LazySysAdmin Writeup" /><published>2017-12-25T16:54:07+08:00</published><updated>2017-12-25T16:54:07+08:00</updated><id>http://localhost:4000/CTF_Adventures/jekyll/update/2017/12/25/LazySysAdmin%20Writeup</id><content type="html" xml:base="http://localhost:4000/CTF_Adventures/jekyll/update/2017/12/25/LazySysAdmin-Writeup.html">&lt;p&gt;Well. What better way to spend christmas than solving a VulbHub machine? This VM is built for beginner/intermediate difficulty level. Link to &lt;a href=&quot;https://www.vulnhub.com/entry/lazysysadmin-1,205/&quot;&gt;LazySysAdmin&lt;/a&gt; on VulnHub.&lt;/p&gt;

&lt;p&gt;I spent about two days on this, even though it could be done within three hours. So here is my writeup.&lt;/p&gt;

&lt;p&gt;Of course, assuming download and import is done, lets examine this machine. I am using Kali Linux, but Ubuntu will be fine in my opinion. (Install what you need right?)&lt;/p&gt;

&lt;h2 id=&quot;scanning&quot;&gt;Scanning&lt;/h2&gt;

&lt;p&gt;Since this is a VM challenge, my first instinct was to do scanning.&lt;/p&gt;

&lt;p&gt;Ping Scan:
nmap -sn [network address]
&lt;img src=&quot;https://i.imgur.com/l9VoGJK.png&quot; alt=&quot;pingscan&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Once IP was found, lets do a port scan:
nmap [target ip]
&lt;img src=&quot;https://i.imgur.com/ma90k0e.png&quot; alt=&quot;normalscan&quot; /&gt;&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Starting Nmap 7.60 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; https://nmap.org &lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; at 2017-12-25 04:37 EST
Nmap scan report &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;192.168.56.101
Host is up &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00042s latency&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
Not shown: 994 closed ports
PORT     STATE SERVICE
22/tcp   open  ssh
80/tcp   open  http
139/tcp  open  netbios-ssn
445/tcp  open  microsoft-ds
3306/tcp open  mysql
6667/tcp open  irc
MAC Address: 08:00:27:6F:9E:3B &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Oracle VirtualBox virtual NIC&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;\
Interesting… Lets have a comprehensive scan for more information:
nmap -A [target ip]&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Starting Nmap 7.60 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt; https://nmap.org &lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; at 2017-12-25 04:37 EST
Nmap scan report &lt;span class=&quot;k&quot;&gt;for &lt;/span&gt;192.168.56.101
Host is up &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;0.00037s latency&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
Not shown: 994 closed ports
PORT     STATE SERVICE     VERSION
22/tcp   open  ssh         OpenSSH 6.6.1p1 Ubuntu 2ubuntu2.8 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Ubuntu Linux&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; protocol 2.0&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
| ssh-hostkey: 
|   1024 b5:38:66:0f:a1:ee:cd:41:69:3b:82:cf:ad:a1:f7:13 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;DSA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
|   2048 58:5a:63:69:d0:da:dd:51:cc:c1:6e:00:fd:7e:61:d0 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;RSA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
|   256 61:30:f3:55:1a:0d:de:c8:6a:59:5b:c9:9c:b4:92:04 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;ECDSA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
|_  256 1f:65:c0:dd:15:e6:e4:21:f2:c1:9b:a3:b6:55:a0:45 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;EdDSA&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
80/tcp   open  http        Apache httpd 2.4.7 &lt;span class=&quot;o&quot;&gt;((&lt;/span&gt;Ubuntu&lt;span class=&quot;o&quot;&gt;))&lt;/span&gt;
|_http-generator: Silex v2.2.7
| http-robots.txt: 4 disallowed entries 
|_/old/ /test/ /TR2/ /Backnode_files/
|_http-server-header: Apache/2.4.7 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Ubuntu&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
|_http-title: Backnode
139/tcp  open  netbios-ssn Samba smbd 3.X - 4.X &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;workgroup: WORKGROUP&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
445/tcp  open  netbios-ssn Samba smbd 4.3.11-Ubuntu &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;workgroup: WORKGROUP&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
3306/tcp open  mysql       MySQL &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;unauthorized&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
6667/tcp open  irc         InspIRCd
| irc-info: 
|   server: Admin.local
|   users: 1
|   servers: 1
|   chans: 0
|   lusers: 1
|   lservers: 0
|   &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;ident: nmap
|   &lt;span class=&quot;nb&quot;&gt;source &lt;/span&gt;host: 192.168.56.102
|_  error: Closing link: &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;nmap@192.168.56.102&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;Client exited]
MAC Address: 08:00:27:6F:9E:3B &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Oracle VirtualBox virtual NIC&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
Device &lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;: general purpose
Running: Linux 3.X|4.X
OS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4
OS details: Linux 3.2 - 4.8
Network Distance: 1 hop
Service Info: Hosts: LAZYSYSADMIN, Admin.local&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; OS: Linux&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; CPE: cpe:/o:linux:linux_kernel

Host script results:
|_clock-skew: mean: 7h59m54s, deviation: 0s, median: 7h59m54s
|_nbstat: NetBIOS name: LAZYSYSADMIN, NetBIOS user: &amp;lt;unknown&amp;gt;, NetBIOS MAC: &amp;lt;unknown&amp;gt; &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;unknown&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
| smb-os-discovery: 
|   OS: Windows 6.1 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Samba 4.3.11-Ubuntu&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
|   Computer name: lazysysadmin
|   NetBIOS computer name: LAZYSYSADMIN&lt;span class=&quot;se&quot;&gt;\x&lt;/span&gt;00
|   Domain name: &lt;span class=&quot;se&quot;&gt;\x&lt;/span&gt;00
|   FQDN: lazysysadmin
|_  System &lt;span class=&quot;nb&quot;&gt;time&lt;/span&gt;: 2017-12-26T03:38:09+10:00
| smb-security-mode: 
|   account_used: guest
|   authentication_level: user
|   challenge_response: supported
|_  message_signing: disabled &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;dangerous, but default&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
| smb2-security-mode: 
|   2.02: 
|_    Message signing enabled but not required
| smb2-time: 
|   date: 2017-12-25 12:38:09
|_  start_date: 1600-12-31 19:03:58

TRACEROUTE
HOP RTT     ADDRESS
1   0.37 ms 192.168.56.101
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;enumeration&quot;&gt;Enumeration&lt;/h2&gt;

&lt;p&gt;Knowing that Port 80 is open, without opening the web browser yet, lets use &lt;code class=&quot;highlighter-rouge&quot;&gt;nikto&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;nikto -host http://192.168.56.101&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;- Nikto v2.1.6
&lt;span class=&quot;nt&quot;&gt;---------------------------------------------------------------------------&lt;/span&gt;
+ Target IP:          192.168.56.101
+ Target Hostname:    192.168.56.101
+ Target Port:        80
+ Start Time:         2017-12-25 04:41:09 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;GMT-5&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;---------------------------------------------------------------------------&lt;/span&gt;
+ Server: Apache/2.4.7 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Ubuntu&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ Server leaks inodes via ETags, header found with file /, fields: 0x8ce8 0x5560ea23d23c0 
+ The anti-clickjacking X-Frame-Options header is not present.
+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS
+ The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;a different fashion to the MIME &lt;span class=&quot;nb&quot;&gt;type&lt;/span&gt;
+ No CGI Directories found &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;use &lt;span class=&quot;s1&quot;&gt;'-C all'&lt;/span&gt; to force check all possible &lt;span class=&quot;nb&quot;&gt;dirs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ OSVDB-3268: /old/: Directory indexing found.
+ Entry &lt;span class=&quot;s1&quot;&gt;'/old/'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;robots.txt returned a non-forbidden or redirect HTTP code &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;200&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ OSVDB-3268: /test/: Directory indexing found.
+ Entry &lt;span class=&quot;s1&quot;&gt;'/test/'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;robots.txt returned a non-forbidden or redirect HTTP code &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;200&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ OSVDB-3268: /Backnode_files/: Directory indexing found.
+ Entry &lt;span class=&quot;s1&quot;&gt;'/Backnode_files/'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in &lt;/span&gt;robots.txt returned a non-forbidden or redirect HTTP code &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;200&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
+ &lt;span class=&quot;s2&quot;&gt;&quot;robots.txt&quot;&lt;/span&gt; contains 4 entries which should be manually viewed.
+ Apache/2.4.7 appears to be outdated &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;current is at least Apache/2.4.12&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt; Apache 2.0.65 &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;final release&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; and 2.2.29 are also current.
+ Allowed HTTP Methods: GET, HEAD, POST, OPTIONS 
+ OSVDB-3268: /apache/: Directory indexing found.
+ OSVDB-3092: /apache/: This might be interesting...
+ OSVDB-3092: /old/: This might be interesting...
+ Retrieved x-powered-by header: PHP/5.5.9-1ubuntu4.22
+ Uncommon header &lt;span class=&quot;s1&quot;&gt;'x-ob_mode'&lt;/span&gt; found, with contents: 0
+ OSVDB-3092: /test/: This might be interesting...
+ /info.php: Output from the phpinfo&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;was found.
+ OSVDB-3233: /info.php: PHP is installed, and a &lt;span class=&quot;nb&quot;&gt;test &lt;/span&gt;script which runs phpinfo&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; was found. This gives a lot of system information.
+ OSVDB-3233: /icons/README: Apache default file found.
+ /info.php?file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://cirt.net/rfiinc.txt?: Output from the phpinfo&lt;span class=&quot;o&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function &lt;/span&gt;was found.
+ OSVDB-5292: /info.php?file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;http://cirt.net/rfiinc.txt?: RFI from RSnake&lt;span class=&quot;s1&quot;&gt;'s list (http://ha.ckers.org/weird/rfi-locations.dat) or from http://osvdb.org/
+ Uncommon header '&lt;/span&gt;link&lt;span class=&quot;s1&quot;&gt;' found, with contents: &amp;lt;http://192.168.56.101/wordpress/index.php?rest_route=/&amp;gt;; rel=&quot;https://api.w.org/&quot;
+ /wordpress/: A Wordpress installation was found.
+ /phpmyadmin/: phpMyAdmin directory found
+ 7690 requests: 0 error(s) and 27 item(s) reported on remote host
+ End Time:           2017-12-25 04:41:39 (GMT-5) (30 seconds)
---------------------------------------------------------------------------
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;nikto&lt;/code&gt; presented many useful information, but what caught my attention was &lt;code class=&quot;highlighter-rouge&quot;&gt;robots.txt&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;/wordpress&lt;/code&gt;.
So, was there a wordpress installation? Upon viewing http://192.168.56.101/wordpress, a wordpress page was presented.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/nzT6JBN.png&quot; alt=&quot;wphome&quot; /&gt;&lt;/p&gt;

&lt;p&gt;If the defaults weren’t changed, http://192.168.56.101/wordpress/wp-login will take me to the login page, and yes it is the login page.&lt;/p&gt;

&lt;p&gt;With the knowledge of the website having a default path for the login page, the next step is to enumerate users on wordpress.
Using &lt;code class=&quot;highlighter-rouge&quot;&gt;wpscan&lt;/code&gt;, we will be able to perform enumeration on wordpress apps.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;wpscan --url http://192.168.56.101/wordpress/ --enumerate u&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;With the following output:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;--output&lt;/span&gt; trimmed--
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Enumerating usernames ...
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] Identified the following 1 user/s:
    +----+-------+---------+
    | Id | Login | Name    |
    +----+-------+---------+
    | 1  | admin | Admin – |
    +----+-------+---------+
&lt;span class=&quot;o&quot;&gt;[!]&lt;/span&gt; Default first WordPress username &lt;span class=&quot;s1&quot;&gt;'admin'&lt;/span&gt; is still used
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lesson: NEVER keep the default admin. =)&lt;/p&gt;

&lt;h2 id=&quot;gaining-access&quot;&gt;Gaining Access&lt;/h2&gt;

&lt;p&gt;So of course, the first thing to try for login is “username: admin ,password: admin”. Well of course it didn’t work. So I went on to try brute force attack instead. Well… Don’t bother trying if you are thinking about it. =)&lt;/p&gt;

&lt;p&gt;I had to look somewhere else.. The system isn’t just about the web application. It is just one of the vectors of entry. Looking back at the port scan, one particular port number stood out: &lt;code class=&quot;highlighter-rouge&quot;&gt;445/tcp  open  netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)&lt;/code&gt;. Yeap, &lt;code class=&quot;highlighter-rouge&quot;&gt;samba&lt;/code&gt; was available. But in what way was it vulerable? The first thing I tried was using &lt;strong&gt;&lt;em&gt;metasploit framework&lt;/em&gt;&lt;/strong&gt; to take advantage of known CVE, but that didn’t work. So it was yet another brick wall. After slacking off for about an hour, the word &lt;em&gt;enumeration&lt;/em&gt; came to my head. I went ahead googling &lt;strong&gt;&lt;em&gt;samba enumeration for metasploit&lt;/em&gt;&lt;/strong&gt; (well I was kinda lazy to do it the non msfconsole way). This link helped me: &lt;a href=&quot;https://www.rapid7.com/db/modules/auxiliary/scanner/smb/smb_enumshares&quot;&gt;SAMBA ENUMERATION&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;After running the enumeration, I was given the following output.&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nt&quot;&gt;--output&lt;/span&gt; trimmed--
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] 192.168.56.101:139    - print&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;- &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;DS&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Printer Drivers
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] 192.168.56.101:139    - share&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;- &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;DS&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; Sumshare
&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;+] 192.168.56.101:139    - IPC&lt;span class=&quot;nv&quot;&gt;$ &lt;/span&gt;- &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;I&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt; IPC Service &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;Web server&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Lets try &lt;code class=&quot;highlighter-rouge&quot;&gt;\\192.168.56.101\share$&lt;/code&gt; using windows explorer..&lt;/p&gt;

&lt;p&gt;Which gave me the following files!&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://i.imgur.com/Wd06UeM.png&quot; alt=&quot;smbdir&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Apparently, this is the root directory of the web server!&lt;/p&gt;

&lt;p&gt;Since the wordpress was installed at http://192.168.56/101/wordpress/, the folder &lt;code class=&quot;highlighter-rouge&quot;&gt;wordpress&lt;/code&gt; would be the first place to look at. The very first thing to look for in a wordpress installation is always &lt;code class=&quot;highlighter-rouge&quot;&gt;wp-config.php&lt;/code&gt;. Upon opening &lt;code class=&quot;highlighter-rouge&quot;&gt;wp-config.php&lt;/code&gt;, I was able able to locate the password for the user &lt;code class=&quot;highlighter-rouge&quot;&gt;admin&lt;/code&gt;. Which turns out to be, &lt;code class=&quot;highlighter-rouge&quot;&gt;TogieMYSQL12345^^&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;With the credentials, I am able to login via the http://192.168.56.101/wordpress/wp-admin page. All that was left for gaining access was to insert a simple php reverse shell. This can be done by making some edits to the &lt;code class=&quot;highlighter-rouge&quot;&gt;footer.php&lt;/code&gt;  file, which is located under &lt;em&gt;“Appearance –&amp;gt; Editor”&lt;/em&gt;. Since I am using Kali Linux, a template of the php reverse shell can be found at &lt;code class=&quot;highlighter-rouge&quot;&gt;/usr/share/webshells/php/php-reverse-shell.php&lt;/code&gt;. After inserting the reverse shell code and saving the changes, I need to set up a listener. A simple netcat listener will do.&lt;/p&gt;

&lt;p&gt;For my php reverse shell codes, I configured the port to 4444. At my Kali Machine, I set up the listener with the following command: &lt;code class=&quot;highlighter-rouge&quot;&gt;nc -nlvp 4444&lt;/code&gt;. Once the listener is running, I proceed to refresh the the wordpress home page. The page will ‘hang’, but looking back at my terminal where my netcat was running on, I have successfully gained shell access.&lt;/p&gt;

&lt;h2 id=&quot;priviledge-escalation&quot;&gt;Priviledge Escalation&lt;/h2&gt;

&lt;p&gt;So since I have gained shell access, it was time to do priviledge escalation. Dirty c0w was last resort, so I went on checking if &lt;code class=&quot;highlighter-rouge&quot;&gt;nmap&lt;/code&gt; was installed, because &lt;code class=&quot;highlighter-rouge&quot;&gt;nmap&lt;/code&gt; has an interactive mode where commands can be used as root (No luck eventually). I also went on checking &lt;code class=&quot;highlighter-rouge&quot;&gt;/etc/passwd&lt;/code&gt; to check out which other users exist on the system. The same can be done when I did &lt;code class=&quot;highlighter-rouge&quot;&gt;ls /home&lt;/code&gt;. A particular user &lt;code class=&quot;highlighter-rouge&quot;&gt;togie&lt;/code&gt; was on the system.&lt;/p&gt;

&lt;p&gt;Looking back at the \192.168.56.101\share$, there was an interesting text file called “deets.txt”. Insider it states: “CBF Remembering all these passwords. Remember to remove this file and update your password after we push out the server. Password 12345”&lt;/p&gt;

&lt;p&gt;Does that mean the password is “12345”?
Well SSH was availble and I tried.&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Using username &lt;span class=&quot;s2&quot;&gt;&quot;togie&quot;&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;##################################################################################################&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#                                          Welcome to Web_TR1                                    #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#                             All connections are monitored and recorded                         #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;#                    Disconnect IMMEDIATELY if you are not an authorized user!                   #&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;##################################################################################################&lt;/span&gt;

togie@192.168.56.101&lt;span class=&quot;s1&quot;&gt;'s password:
Welcome to Ubuntu 14.04.5 LTS (GNU/Linux 4.4.0-31-generic i686)

 * Documentation:  https://help.ubuntu.com/

 System information disabled due to load higher than 1.0

133 packages can be updated.
0 updates are security updates.

togie@LazySysAdmin:~$
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Terrific, I am in as a normal user through SSH! (Abandons php reverse shell)
With no luck on &lt;code class=&quot;highlighter-rouge&quot;&gt;nmap&lt;/code&gt; installation, I proceed to double confirm the OS type with “uname -a”.
&lt;code class=&quot;highlighter-rouge&quot;&gt;Linux LazySysAdmin 4.4.0-31-generic #50~14.04.1-Ubuntu SMP Wed Jul 13 01:06:37 UTC 2016 i686 i686 i686 GNU/Linux&lt;/code&gt;
Hmmm….. Ubuntu?
I went on with the command “groups” to check out which groups “togie” belongs to.
&lt;code class=&quot;highlighter-rouge&quot;&gt;togie adm cdrom sudo dip plugdev lpadmin sambashare&lt;/code&gt;
Well it appears that togie is part of the group sudo!&lt;/p&gt;

&lt;p&gt;So I tried &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo -i&lt;/code&gt;, and proceeded to enter ‘togie’ password.
&lt;em&gt;Priviledge Escalated&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Well this appears to be the most “straight forward” escalation, as it was intended. Nothing sophisticated was needed. Last but not least, the following commands to check for user, current working directory and list files. &lt;code class=&quot;highlighter-rouge&quot;&gt;whoami;pwd;ls -la&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;OUTPUT:&lt;/p&gt;
&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;root
/root
total 28
drwx------  3 root root 4096 Aug 15 23:10 &lt;span class=&quot;nb&quot;&gt;.&lt;/span&gt;
drwxr-xr-x 22 root root 4096 Aug 21 20:10 ..
&lt;span class=&quot;nt&quot;&gt;-rw-------&lt;/span&gt;  1 root root 1136 Dec 25 19:02 .bash_history
&lt;span class=&quot;nt&quot;&gt;-rw-r--r--&lt;/span&gt;  1 root root 3106 Feb 20  2014 .bashrc
drwx------  2 root root 4096 Aug 14 20:30 .cache
&lt;span class=&quot;nt&quot;&gt;-rw-r--r--&lt;/span&gt;  1 root root  140 Feb 20  2014 .profile
&lt;span class=&quot;nt&quot;&gt;-rw-r--r--&lt;/span&gt;  1 root root  347 Aug 21 19:35 proof.txt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Finally, &lt;code class=&quot;highlighter-rouge&quot;&gt;cat proof.txt&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;WX6k7NJtA8gfk*w5J3&amp;amp;T@*Ga6!0o5UP89hMVEQ#PT9851


Well done :)

Hope you learn't a few things along the way.

Regards,

Togie Mcdogie




Enjoy some random strings

WX6k7NJtA8gfk*w5J3&amp;amp;T@*Ga6!0o5UP89hMVEQ#PT9851
2d2v#X6x9%D6!DDf4xC1ds6YdOEjug3otDmc1$#slTET7
pf%&amp;amp;1nRpaj^68ZeV2St9GkdoDkj48Fl$MI97Zt2nebt02
bhO!5Je65B6Z0bhZhQ3W64wL65wonnQ$@yw%Zhy0U19pu
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And that’s it! Successfully found the treasure! (which is proof.txt)&lt;/p&gt;</content><author><name></name></author><summary type="html">Well. What better way to spend christmas than solving a VulbHub machine? This VM is built for beginner/intermediate difficulty level. Link to LazySysAdmin on VulnHub.</summary></entry><entry><title type="html">Thoughts…</title><link href="http://localhost:4000/CTF_Adventures/jekyll/update/2017/12/22/Thoughts.html" rel="alternate" type="text/html" title="Thoughts..." /><published>2017-12-22T16:54:07+08:00</published><updated>2017-12-22T16:54:07+08:00</updated><id>http://localhost:4000/CTF_Adventures/jekyll/update/2017/12/22/Thoughts</id><content type="html" xml:base="http://localhost:4000/CTF_Adventures/jekyll/update/2017/12/22/Thoughts.html">&lt;p&gt;When I was first introduced to CTF, I know nothing about it. I was just a mere script kiddie. (skiddie? I think I still am one..)
I was introduced to jeopardy style CTF in 2016, and it really caught my attention. It was not just about “cracking a system”, but it was a computer puzzle in a form of Computer Security.
It requires the knowledge of Computer Security in order to solve challenges to get flags. CTF has become my new “game”, and I sign up for every single online CTF availble. (even if the challenges were way out of my league. for the lols maybe?)&lt;/p&gt;

&lt;p&gt;I will be participating in an upcoming offline CTF called JDC - Junior Defender Camp. Organized by &lt;a href=&quot;https://github.com/ntu-offsec&quot;&gt;NTU OffSec&lt;/a&gt;. Fingers crossed and hopefully I can solve all the challenges.&lt;/p&gt;</content><author><name></name></author><summary type="html">When I was first introduced to CTF, I know nothing about it. I was just a mere script kiddie. (skiddie? I think I still am one..) I was introduced to jeopardy style CTF in 2016, and it really caught my attention. It was not just about “cracking a system”, but it was a computer puzzle in a form of Computer Security. It requires the knowledge of Computer Security in order to solve challenges to get flags. CTF has become my new “game”, and I sign up for every single online CTF availble. (even if the challenges were way out of my league. for the lols maybe?)</summary></entry><entry><title type="html">My First Post</title><link href="http://localhost:4000/CTF_Adventures/jekyll/update/2017/12/22/First-Post.html" rel="alternate" type="text/html" title="My First Post" /><published>2017-12-22T16:54:07+08:00</published><updated>2017-12-22T16:54:07+08:00</updated><id>http://localhost:4000/CTF_Adventures/jekyll/update/2017/12/22/First%20Post</id><content type="html" xml:base="http://localhost:4000/CTF_Adventures/jekyll/update/2017/12/22/First-Post.html">&lt;p&gt;Hello readers. I go by the name &lt;strong&gt;&lt;em&gt;Gladitor&lt;/em&gt;&lt;/strong&gt; on CTFtime.org. I’m new to CTF, and this blog would be the place where I will documenting my adventures and personal write ups.&lt;/p&gt;

&lt;p&gt;My past adventures includes &lt;code class=&quot;highlighter-rouge&quot;&gt;TUCTF&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;inCTF&lt;/code&gt;. Currently practicing &lt;code class=&quot;highlighter-rouge&quot;&gt;Web&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;Reverse Engineering&lt;/code&gt;. If you have advice on those, I would be happen to hear from you!!&lt;/p&gt;

&lt;p&gt;Cheers!&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Note: The screen name &lt;strong&gt;*Gladiator&lt;/strong&gt;&lt;/em&gt; was the name that I used for online-games. Hence, I adopted it.&lt;/p&gt;</content><author><name></name></author><summary type="html">Hello readers. I go by the name Gladitor on CTFtime.org. I’m new to CTF, and this blog would be the place where I will documenting my adventures and personal write ups.</summary></entry></feed>